
; - Abstraction definitions
; Example Opject
(declare-abstractions
  (
    (example_test_core.BooleanWrapper 0)
  )
  (
    ((Wrapper (a Bool) (b Bool) (c Bool)))
  )
)

; - Initializers
(define-contract example_test_core.BooleanWrapper.init
  (
   (result (out BooleanWrapper))
   )
  ((
    true
    (and 
      (= (a result) true)
      (= (b result) true)
      (= (c result) true)
    )
  ))
)

; - Initializers
(define-contract example_test_core.BooleanWrapper.init_values
  (
   (result (out BooleanWrapper))
   (a (in Bool))
   (b (in Bool))
   (c (in Bool))
   )
  ((
    true
    (and 
      (= (a result) a)
      (= (b result) b)
      (= (c result) c)
    )
  ))
)

; - Getter contracts
(define-contract example_test_core.BooleanWrapper.get_a
  (
    (this (inout BooleanWrapper))
    (result (out Bool))
  )
  ((
    true
    (= (a this) result)
  ))
)

; - Operatiors contracts
(define-contract example_test_core.BooleanWrapper.check_equals
  (
    (this (inout BooleanWrapper))
  )
  ((
    (= (a this) true) 
    (= (b this) false)
  ))
)

(define-contract example_test_core.BooleanWrapper.check_distinct
  (
    (this (inout BooleanWrapper))
  )
  ((
    (distinct (a this) true) 
    (distinct (b this) false)
  ))
)

(define-contract example_test_core.BooleanWrapper.check_not
  (
    (this (inout BooleanWrapper))
  )
  ((
    (= (not (a this)) (c this))
    (= (not (b this)) (a this))
  ))
)

(define-contract example_test_core.BooleanWrapper.check_implies
  (
    (this (inout BooleanWrapper))
  )
  ((
    (=> (a this) (b this))
    (=> (b this) (c this))
  ))
)

(define-contract example_test_core.BooleanWrapper.check_and
  (
    (this (inout BooleanWrapper))
  )
  ((
    (and (a this) (b this))
    (and (b this) (c this))
  ))
)

(define-contract example_test_core.BooleanWrapper.check_or
  (
    (this (inout BooleanWrapper))
  )
  ((
    (or (a this) (b this))
    (or (b this) (c this))
  ))
)

(define-contract example_test_core.BooleanWrapper.check_xor
  (
    (this (inout BooleanWrapper))
  )
  ((
    (xor (a this) (b this))
    (xor (b this) (c this))
  ))
)

;(define-contract example_test_core.BooleanWrapper.check_ite
;  (
;    (a (in Bool))
;    (b (in Bool))
;    (this (in BooleanWrapper))
;   (result (out Bool))
; )
; ((
;   true
;   (= (ite (a this) a b) result)
; ))
;)
